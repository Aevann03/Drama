{% if p.award_count("haunt") %}
<style>
	img:not(.banner) {
		animation: haunted 5s infinite!important;
	}
	.banner {
    	animation: none!important;
	}
</style>
{% endif %}

{% if p.award_count("upsidedown") and p.comment_count >= 10 %}
<canvas id="canvas" class="particles"></canvas>
<link href="/assets/css/upsidedown-nerf.css" rel="stylesheet">
<img id="demogorgon-1" class="demogorgon" src="/assets/images/halloween/demogorgon.png" alt="demogorgon"/>
<img id="demogorgon-2" class="demogorgon" src="/assets/images/halloween/demogorgon.png" alt="demogorgon"/>
<script src="/assets/js/halloween/upsidedown-nerf.js"></script>
{% elif p.award_count("upsidedown") %}
<canvas id="canvas" class="particles"></canvas>
<link href="/assets/css/upsidedown.css" rel="stylesheet">
<img id="demogorgon-1" class="demogorgon" src="/assets/images/halloween/demogorgon.png" alt="demogorgon"/>
<img id="demogorgon-2" class="demogorgon" src="/assets/images/halloween/demogorgon.png" alt="demogorgon"/>
<script src="/assets/js/halloween/upsidedown.js"></script>
{% endif %}

{% if not p.award_count("upsidedown") and p.award_count("stab") and p.award_count("stab") <= 5 %}
<style>
	canvas.sketch {
		opacity: calc(0.1*{{ p.award_count("stab") }});
	}
</style>
<script src="/assets/js/halloween/blood.js"></script>
{% elif not p.award_count("upsidedown") and p.award_count("stab") %}
<style>
	canvas.sketch {
		opacity: 0.5;
	}
</style>
<script src="/assets/js/halloween/blood.js"></script>
{% elif p.award_count("upsidedown") and p.award_count("stab") %}
<style>
	body {
		filter: hue-rotate(160deg) saturate(300%);
	}
</style>
{% endif %}

{% if p.award_count("ghosts") %}
<style>
	#main-content-row .user-name *, .user-name-reply *, .user-info .fas, .user-info .fad, .user-info .far {
		display: none;
	}
	#main-content-row .user-info .fa-reply {
		display: inline-block;
	}
	#main-content-row a.user-name {
		pointer-events: none;
	}
</style>
{% endif %}

{% if p.award_count("spiders") %}
	{% set spiders = p.award_count("spiders") %}

	{% for i in range(spiders) %}
		{% include "halloween/spider.html" %}
	{% endfor %}
{% endif %}

{% if p.award_count("fog") and p.award_count("upsidedown") %}
{% set puffs = 10/p.award_count("fog") if p.award_count("fog") < 2 else 5 %}

<style>
	:root::before {
		z-index: 1;
		content: '';
		display: block;
		width: 100%;
		height: 100%;
		position: fixed;
		pointer-events: none;
		background: radial-gradient(
			circle {{ puffs }}vmax at var(--cursorX) var(--cursorY),
			rgba(0,0,0,0) 0%,
			rgba(0,0,0,.5) 80%,
			rgba(0,0,0,.93) 100%
			);
	}

	@media (max-width: 767.98px) {
		:root::before {
			background: radial-gradient(
				circle 70px at var(--cursorX) var(--cursorY),
				rgba(0,0,0,0) 0%,
				rgba(0,0,0,.5) 80%,
				rgba(0,0,0,.93) 100%
				);
		}
	}
</style>
{% elif p.award_count("fog") %}
<canvas id="fog" class="fog"></canvas>
<script src="/assets/js/halloween/fog.js"></script>
{% endif %}